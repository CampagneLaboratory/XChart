package org.campagnelab.mps.XChart.sandbox.B;

/*Generated by MPS */

import java.util.ArrayList;
import com.xeiam.xchart.Chart;
import com.xeiam.xchart.ChartBuilder;
import com.xeiam.xchart.StyleManager;
import org.campagnelab.mps.XChart.helpers.DoublesToCollection;
import org.campagnelab.mps.XChart.helpers.ColumnLoader;
import javax.swing.JFrame;
import com.xeiam.xchart.SwingWrapper;
import javax.swing.WindowConstants;

public class ChartViewer_A {
  public static void view(String... filenames) {
    ArrayList<Chart> charts = new ArrayList<Chart>();
    int filenameIndex = 0;
    int numCharts = 1;
    {
      Chart chart = null;
      String filename = filenames[filenameIndex];
      {
        double[] xs = null;
        chart = new ChartBuilder().chartType(StyleManager.ChartType.Bar).width(400).height(400).theme(StyleManager.ChartTheme.GGPlot2).title("Title").xAxisTitle("x").yAxisTitle("y").build();
        chart.addSeries("data", DoublesToCollection.toCollection(ColumnLoader.load(filename, "read-index", "\t")), DoublesToCollection.toCollection(ColumnLoader.load(filename, "count-variation-bases", "\t")));

        chart.getStyleManager().setLegendPosition(StyleManager.LegendPosition.InsideNE);
      }
      if (chart != null) {
        charts.add(chart);
      }
      filenameIndex++;
      if (filenameIndex == numCharts) {
        filenameIndex = 0;
      }
    }
    JFrame jFrame = new SwingWrapper(charts).displayChart();
    jFrame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);

  }

  public static void main(String[] args) {
    view(args[0]);
  }


}
